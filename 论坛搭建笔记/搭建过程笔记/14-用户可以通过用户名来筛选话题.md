# 14-用户可以通过用户名来筛选话题
1.通过url参数来传递用户名`?by=username`:

```
public function index(Channel $channel)
{
    if($channel->exists){
        $threads = $channel->threads()->latest();
    }else{
        $threads = Thread::latest();
    }
    
    if($username = request('by')){
        $user = \App\User::where('name', $username)->firstOrFail();
        $threads->where('user_id', $user->id);
    }

    $threads = $threads->get();

    return view('threads.index', compact('threads'));
}
```
index函数处理了所有的筛选工作。

注意在blade模版中使用一些变量的之前要确保变量确实存在。

